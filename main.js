(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",n),document.addEventListener("click",r)}function t(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",n),document.removeEventListener("click",r)}function n(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}function r(e){(e.target.classList.contains("popup__close")||e.target.classList.contains("popup_is-opened"))&&t(document.querySelector(".popup_is-opened"))}function o(e,t,n,r,o){var c=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0);c.querySelector(".card__title").textContent=e,c.querySelector(".card__image").setAttribute("src",t);var i=c.querySelector(".card__image"),a=c.querySelector(".card__like-button");return i.addEventListener("click",(function(){return o(t,e)})),a.addEventListener("click",(function(){return n(a)})),c.querySelector(".card__delete-button").addEventListener("click",(function(){r(c)})),c}function c(e){e.classList.toggle("card__like-button_is-active")}function i(e){e.remove()}function a(e,t,n){!function(e){return e.some((function(e){return console.log("kek"),!e.validity.valid}))}(e)?t.classList.remove(n):t.classList.add(n)}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s,d=document.querySelector(".places__list"),p=document.querySelector(".popup_type_edit"),m=document.querySelector(".profile__edit-button"),f=document.querySelector(".popup_type_new-card"),v=document.querySelector(".profile__add-button"),y=document.forms["edit-profile"],_=document.forms["new-place"],S=u(document.querySelectorAll(".popup"));try{for(S.s();!(s=S.n()).done;){var k=s.value;k.addEventListener("click",r),k.classList.add("popup_is-animated")}}catch(e){S.e(e)}finally{S.f()}function b(t,n){var r=document.querySelector(".popup__image"),o=document.querySelector(".popup__caption"),c=document.querySelector(".popup_type_image");r.src=t,o.textContent=n,e(c)}y.addEventListener("submit",(function(e){e.preventDefault();var n=y.elements.name,r=y.elements.description;document.querySelector(".profile__title").textContent=n.value,document.querySelector(".profile__description").textContent=r.value,t(p),y.reset()})),_.addEventListener("submit",(function(e){e.preventDefault();var n=_.elements["place-name"],r=_.elements.link,a=o(n.value,r.value,c,i,b);d.prepend(a),t(f)})),m.addEventListener("click",(function(){y.elements.name.value=document.querySelector(".profile__title").textContent,y.elements.description.value=document.querySelector(".profile__description").textContent,e(p),function(e){var t=e.formSelector,n=e.formInput,r=e.inputErrorClass,o=e.errorClass,c=e.buttonSelector,i=e.buttonInactiveClass,u=document.querySelector(t),l=u.querySelector(c);u.addEventListener("submit",(function(e){e.preventDefault()}));var s=Array.from(u.querySelectorAll(n));s.forEach((function(e){e.addEventListener("input",(function(){!function(e,t,n,r){t.validity.patternMismatch?t.setCustomValidity("Разрешены только латинские и кириллические буквы, знаки дефиса и пробелы"):t.setCustomValidity(""),t.validity.tooShort?t.setCustomValidity("Минимальное количество символов 2. Длина текста сейчас:".concat(t.value.length," символ")):t.setCustomValidity(""),t.validity.valid?function(e,t,n,r){var o=e.querySelector(".".concat(t.name,"-error"));t.classList.remove(n),o.classList.remove(r),o.textContent=""}(e,t,n,r):function(e,t,n,r,o){var c=e.querySelector(".".concat(t.name,"-error"));t.classList.add(r),c.classList.add(o),c.textContent=n}(e,t,t.validationMessage,n,r)}(u,e,r,o),a(s,l,i)}))})),a(s,l)}({formSelector:".popup_is-opened",formInput:".popup__input",buttonSelector:".popup__button",buttonInactiveClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"})})),v.addEventListener("click",(function(){_.elements["place-name"].value="",_.elements.link.value="",e(f)}));var q,L=u([{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}]);try{for(L.s();!(q=L.n()).done;){var g=q.value,h=o(g.name,g.link,c,i,b);d.append(h)}}catch(e){L.e(e)}finally{L.f()}})();