(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",n),document.addEventListener("click",r)}function t(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",n),document.removeEventListener("click",r)}function n(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}function r(e){(e.target.classList.contains("popup__close")||e.target.classList.contains("popup_is-opened"))&&t(document.querySelector(".popup_is-opened"))}function o(e,t,n,r,o){var c=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0);c.querySelector(".card__title").textContent=e,c.querySelector(".card__image").setAttribute("src",t);var i=c.querySelector(".card__image"),a=c.querySelector(".card__like-button");return i.addEventListener("click",(function(){return o(t,e)})),a.addEventListener("click",(function(){return n(a)})),c.querySelector(".card__delete-button").addEventListener("click",(function(){r(c)})),c}function c(e){e.classList.toggle("card__like-button_is-active")}function i(e){e.remove()}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l,s=document.querySelector(".places__list"),d=document.querySelector(".popup_type_edit"),p=document.querySelector(".profile__edit-button"),m=document.querySelector(".popup_type_new-card"),f=document.querySelector(".profile__add-button"),y=document.forms["edit-profile"],v=document.forms["new-place"],_=a(document.querySelectorAll(".popup"));try{for(_.s();!(l=_.n()).done;){var k=l.value;k.addEventListener("click",r),k.classList.add("popup_is-animated")}}catch(e){_.e(e)}finally{_.f()}function S(t,n){var r=document.querySelector(".popup__image"),o=document.querySelector(".popup__caption"),c=document.querySelector(".popup_type_image");r.src=t,o.textContent=n,e(c)}y.addEventListener("submit",(function(e){e.preventDefault();var n=y.elements.name,r=y.elements.description;document.querySelector(".profile__title").textContent=n.value,document.querySelector(".profile__description").textContent=r.value,t(d),y.reset()})),v.addEventListener("submit",(function(e){e.preventDefault();var n=v.elements["place-name"],r=v.elements.link,a=o(n.value,r.value,c,i,S);s.prepend(a),t(m)})),p.addEventListener("click",(function(){y.elements.name.value=document.querySelector(".profile__title").textContent,y.elements.description.value=document.querySelector(".profile__description").textContent,e(d)})),f.addEventListener("click",(function(){v.elements["place-name"].value="",v.elements.link.value="",e(m)}));var g,q=a([{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}]);try{for(q.s();!(g=q.n()).done;){var h=g.value,b=o(h.name,h.link,c,i,S);s.append(b)}}catch(e){q.e(e)}finally{q.f()}})();